<!DOCTYPE html>
<html>

<head>
	<meta name="robots" content="noarchive" />
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<title>
		Depositar - Mega Fácil	</title>
	<link href="../vendor/fontawesome-free/css/all.min.css" rel="stylesheet" type="text/css">
	<link rel="preconnect" href="../fonts.googleapis.com">
	<link rel="preconnect" href="../fonts.gstatic.com" crossorigin>
	<link href="../fonts.googleapis.com/css2@family=Poppins%253Aital,wght@0,100%3B0,200%3B0,300%3B0,400%3B0,500%3B0,600%3B0,700%3B0,800%3B0,900%3B1,100%3B1,200%3B1,300%3B1,400%3B1,500%3B1,600%3B1,700%3B1,800%3B1,900&amp;display=swap.css" rel="stylesheet">
	<link href="../cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet">
	<link href="../cdn.datatables.net/1.13.1/css/dataTables.bootstrap5.min.css" rel="stylesheet">
	<link href="../css/new.css@v=39.css" rel="stylesheet">
	<link rel="favicon" href="../favicon.ico" />
	<link rel="stylesheet" type="text/css" href="../cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick.css" />
	<link rel="stylesheet" type="text/css" href="../cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.8.1/slick-theme.min.css" />
	<link rel="manifest" href="../manifest.json" />
	<!-- ios support -->
	<link rel="apple-touch-icon" href="../img/icons/72.png" />
	<link rel="apple-touch-icon" href="../img/icons/96.png" />
	<link rel="apple-touch-icon" href="../img/icons/128.png" />
	<link rel=" apple-touch-icon" href="../img/icons/144.png" />
	<link rel="apple-touch-icon" href="../img/icons/152.png" />
	<link rel="apple-touch-icon" href="../img/icons/192.png" />
	<link rel="apple-touch-icon" href="../img/icons/384.png" />
	<link rel="apple-touch-icon" href="../img/icons/512.png" />
	<meta name="apple-mobile-web-app-status-bar" content="#6515DD" />
	<meta name="theme-color" content="#6515DD" />
</head>

<body>
	<header>
		<div class="container">
			<div class="logo">
				<a href="../painel">
					<img src="../img/logo.png">
				</a>
			</div>



			<div class="perfil">

				<a class="credito_header" href="../depositar.html">
					<span id="saldoUser" data-saldo="0">R$
						0,00					</span>
				</a>

				<a href="../perfil" class="perfilbutton">
					<img src="../img/new/profile.png">
				</a>
			</div>
		</div>
	</header>

	<div id="menu" class="simple-menu">
		<ul>
			<li >
				<a class="menu-item" href="../apostar">
					<div class="icon">
						<img src="../img/new/apostar.png">
					</div>
					<span>Apostar</span>
				</a>

			</li>


			<li >
				<a class="menu-item" href="../apostas">
					<div class="icon">
						<img src="../img/new/apostas.png">
					</div>
					<span>Minhas apostas</span>
				</a>

			</li>

			<li class="ativo">
				<a class="menu-item" href="../depositar.html">
					<div class="icon">
						<img src="../img/new/deposito.png">
					</div>
					<span>Recarregar</span>
				</a>

			</li>


			<li >
				<a class="menu-item" href="../resultados">
					<div class="icon">
						<img src="../img/new/resultados.png">
					</div>
					<span>Resultados</span>
				</a>
			</li>

			
			<li >
				<a class="menu-item" href="../raspadinha">
					<div class="icon hotnew">
						<img src="../img/new/raspadinh-2.png">
					</div>
					<span>Raspadinha</span>
				</a>
			</li>


			
			<li  >


				<a class="menu-item" href="../bolao">
					<div class="icon hotnew">
						<img src="../img/new/bolao.png">
					</div>
					<span>Bolão</span>
				</a>
			</li>

						
			<li >


				<a class="menu-item" href="../roleta">
					<div class="icon hotnew">
						<img src="../img/new/roleta.png">
					</div>
					<span>Roleta</span>
				</a>
			</li>

			
			

			



			<li >
				<a class="menu-item" href="../loteria">
					<div class="icon hotnew">
						<img src="../img/new/loteria_game.png">
					</div>
					<span>Mega Online</span>
				</a>
			</li>

			
			<li >
				<a class="menu-item" href="../sorteio">
					<div class="icon">
						<img src="../img/new/sorteio.png">
					</div>
					<span>Dia da Sorte</span>
				</a>
			</li>

			




			<li >
				<a class="menu-item" href="../saldo">
					<div class="icon">
						<img src="../img/new/saldo.png">
					</div>
					<span>Saque</span>
				</a>
			</li>

			
			<li >
								<a class="menu-item" target="_blank" href="../wa.me/5599991013087?text=Ol%C3%A1+meu+email+de+usu%C3%A1rio+%C3%A9%3A+marauto1983%40gmail.com+%0AE+preciso+de+ajuda+no+Mega+F%C3%A1cil.">
					<div class="icon">
						<img src="../img/new/suporte.png">
					</div>
					<span>Suporte</span>
				</a>
			</li>


			<li class="mobile-item">
				<a class="menu-item" href="../javascript:;">
					<div class="icon">
						<i class="fas fa-bars"></i>
					</div>
					<span>Ver mais opções</span>
				</a>
			</li>

			
		</ul>

	</div>

	
			<!--<div class="container">
			<div class="cardItem aviso-chave mt-3 mb-1">
				<span style="font-weight: bold;">
					Atenção cadastre sua chave PIX para poder receber as premiações!
					<a href="..//perfil">Cadastrar</a>
				</span>

			</div>
		</div> -->
	
			<div class="container">
			<div class="cardItem aviso-saldo mt-3 mb-1">
				<span style="font-weight: bold;">
					Seu saldo está baixo! Deposite saldo em sua conta para poder apostar!
					<a href="../depositar.html">Recarregar</a>
				</span>

			</div>
		</div>
	<style>
   
</style>
<div class="container mb-5 padding-menu-fix">


    <div class="row">
        <div class="col-md-12 col-sm-12 apostas">
            <div class="cardItem mt-4">
                <div class=" mb-2">
                    <h3 class="mb-2 text-gray-500 fz-18"><b>Recarregar</b></h3>
                    <p class="text-gray-300">Deposite saldo em sua conta para poder apostar:</p>
                </div>

                <div class="depositCardBox">

                    <div class="despositChoose">

                        <form class="paymentFields">

                            <div class="dataFields">

                                <div class="selectMethod">
                                    <span class="method pix selected" data-method="pix">
                                        <svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 512 512">
                                            <path d="M242.4 292.5C247.8 287.1 257.1 287.1 262.5 292.5L339.5 369.5C353.7 383.7 372.6 391.5 392.6 391.5H407.7L310.6 488.6C280.3 518.1 231.1 518.1 200.8 488.6L103.3 391.2H112.6C132.6 391.2 151.5 383.4 165.7 369.2L242.4 292.5zM262.5 218.9C256.1 224.4 247.9 224.5 242.4 218.9L165.7 142.2C151.5 127.1 132.6 120.2 112.6 120.2H103.3L200.7 22.76C231.1-7.586 280.3-7.586 310.6 22.76L407.8 119.9H392.6C372.6 119.9 353.7 127.7 339.5 141.9L262.5 218.9zM112.6 142.7C126.4 142.7 139.1 148.3 149.7 158.1L226.4 234.8C233.6 241.1 243 245.6 252.5 245.6C261.9 245.6 271.3 241.1 278.5 234.8L355.5 157.8C365.3 148.1 378.8 142.5 392.6 142.5H430.3L488.6 200.8C518.9 231.1 518.9 280.3 488.6 310.6L430.3 368.9H392.6C378.8 368.9 365.3 363.3 355.5 353.5L278.5 276.5C264.6 262.6 240.3 262.6 226.4 276.6L149.7 353.2C139.1 363 126.4 368.6 112.6 368.6H80.78L22.76 310.6C-7.586 280.3-7.586 231.1 22.76 200.8L80.78 142.7H112.6z" />
                                        </svg>
                                        <small>PIX</small>
                                    </span>

                                    <span class="method boleto" data-method="boleto">
                                        <svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 512 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. -->
                                            <path d="M24 32C10.7 32 0 42.7 0 56V456c0 13.3 10.7 24 24 24H40c13.3 0 24-10.7 24-24V56c0-13.3-10.7-24-24-24H24zm88 0c-8.8 0-16 7.2-16 16V464c0 8.8 7.2 16 16 16s16-7.2 16-16V48c0-8.8-7.2-16-16-16zm72 0c-13.3 0-24 10.7-24 24V456c0 13.3 10.7 24 24 24h16c13.3 0 24-10.7 24-24V56c0-13.3-10.7-24-24-24H184zm96 0c-13.3 0-24 10.7-24 24V456c0 13.3 10.7 24 24 24h16c13.3 0 24-10.7 24-24V56c0-13.3-10.7-24-24-24H280zM448 56V456c0 13.3 10.7 24 24 24h16c13.3 0 24-10.7 24-24V56c0-13.3-10.7-24-24-24H472c-13.3 0-24 10.7-24 24zm-64-8V464c0 8.8 7.2 16 16 16s16-7.2 16-16V48c0-8.8-7.2-16-16-16s-16 7.2-16 16z" />
                                        </svg>
                                        <small>BOLETO</small>
                                    </span>

                                </div>


                                <label>Valor:</label>
                                <input class="form-control form-control-user mb-3" type="text" id="valor" maxlength="8" name="valor" placeholder="20,00">

                                <label>Nome completo:</label>
                                <input class="form-control form-control-user mb-3" type="text" id="nome" name="nome" placeholder="Coloque seu nome">


                                <label>CPF:</label>
                                <input class="form-control form-control-user mb-3" type="text" id="cpf" name="cpf" placeholder="000.000.000.00">


                                <button id="confirmDeposit" class="btn btn-primary btn-user btn-block botao_new mt-2" style="display: block;margin: 10px auto;">
                                    Depositar
                                </button>
                                <div class="selo">
                                    <img src="../img/new/mercadopago.png">
                                </div>

                            </div>

                            <div id="loaderPayment" style="display:none;">
                                <svg version="1.1" id="L9" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 100 100" enable-background="new 0 0 0 0" xml:space="preserve">
                                    <path fill="#EC4E9A" d="M73,50c0-12.7-10.3-23-23-23S27,37.3,27,50 M30.9,50c0-10.5,8.5-19.1,19.1-19.1S69.1,39.5,69.1,50">
                                        <animateTransform attributeName="transform" attributeType="XML" type="rotate" dur="1s" from="0 50 50" to="360 50 50" repeatCount="indefinite" />
                                    </path>
                                </svg>
                                <span>Processando... aguarde</span>
                            </div>

                            <div class="gatewayReturn"></div>

                        </form>



                    </div>


                </div>



            </div>
        </div>

        <div class="col-md-12 col-sm-12 apostas">
            <div class="cardItem mt-4">
                <div class=" mb-4">
                    <h3 class="mb-2 text-gray-500 fz-18"><b>Despositos</b></h3>
                    <p class="text-gray-300">Confira seus depositos já realizados:</p>
                </div>

                <div class="jogoCriados">

                    
                            <div class="jogo" href="../javascript:;" style="cursor: auto;" id="dep95564">
                                <div class="concurso"><small>Deposito </small>#
                                    95564                                </div>
                                <div class="concurso"><small>R$ </small>
                                    10,00                                </div>


                                <div class="concurso"><small>Forma de pagamento: </small>
                                    Pix                                </div>

                                
                                
                                                                <div class="status-jogo status1">
                                    <span>
                                        Expirado                                    </span>
                                </div>
                                                                <div class="jogo-realizado">
                                    <svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 512 512">
                                        <path d="M464 256A208 208 0 1 1 48 256a208 208 0 1 1 416 0zM0 256a256 256 0 1 0 512 0A256 256 0 1 0 0 256zM232 120V256c0 8 4 15.5 10.7 20l96 64c11 7.4 25.9 4.4 33.3-6.7s4.4-25.9-6.7-33.3L280 243.2V120c0-13.3-10.7-24-24-24s-24 10.7-24 24z" />
                                    </svg>
                                    <span>
                                        01/05/2024 22:20                                    </span>
                                </div>
                            </div>
                        
                            <div class="jogo" href="../javascript:;" style="cursor: auto;" id="dep95565">
                                <div class="concurso"><small>Deposito </small>#
                                    95565                                </div>
                                <div class="concurso"><small>R$ </small>
                                    10,00                                </div>


                                <div class="concurso"><small>Forma de pagamento: </small>
                                    Boleto                                </div>

                                
                                
                                                                <div class="status-jogo status0">
                                    <span>
                                        Aguardando pagamento                                    </span>
                                </div>
                                                                        <a href="../www.mercadopago.com.br/payments/77189633549/ticket?caller_id=1793011817&payment_method_id=bolbradesco&payment_id=77189633549&payment_method_reference_id=10354671530&hash=db9254b8-b692-4528-b0eb-c130647ccd24" class="ver_boleto" target="_blank">Ver boleto</a>
                                                                             <a href="../javascript:;" class="check_pay" data-id="77189633549">Verificar pagamento</a>

                                                                        <div class="jogo-realizado">
                                    <svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 512 512">
                                        <path d="M464 256A208 208 0 1 1 48 256a208 208 0 1 1 416 0zM0 256a256 256 0 1 0 512 0A256 256 0 1 0 0 256zM232 120V256c0 8 4 15.5 10.7 20l96 64c11 7.4 25.9 4.4 33.3-6.7s4.4-25.9-6.7-33.3L280 243.2V120c0-13.3-10.7-24-24-24s-24 10.7-24 24z" />
                                    </svg>
                                    <span>
                                        01/05/2024 22:22                                    </span>
                                </div>
                            </div>
                        
                </div>

            </div>
        </div>


    </div>



</div>

</div>
<!-- Scroll to Top Button
<a class="scroll-to-top rounded" href="../#page-top">
    <i class="fas fa-angle-up"></i>
</a>-->

<!-- Logout Modal-->
<div class="modal fade" id="logoutModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">Deseja mesmo sair?</h5>
                <button class="close" type="button" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">×</span>
                </button>
            </div>
            <div class="modal-body">Selecione "Sair" abaixo para encerrar a atual sessão.</div>
            <div class="modal-footer">
                <button class="btn btn-secondary" type="button" data-dismiss="modal">Cancelar</button>
                <a class="btn btn-primary" href="../logout.php">Sair</a>
            </div>
        </div>
    </div>
</div>

<script src="../cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
<script src="../cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>

<script src="../vendor/datatables/jquery.dataTables.min.js"></script>
<script src="../vendor/datatables/dataTables.bootstrap4.min.js"></script>
<script type="text/javascript" src="../cdn.datatables.net/plug-ins/1.10.19/sorting/date-de.js"></script>
<script src="../cdn.jsdelivr.net/npm/sweetalert2@11"></script>
<script type="text/javascript" src="../cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick.min.js"></script>
<script type="text/javascript" src="../js/jquery-ui.min.js"></script>

<script src="../js/new.js@v=122"></script>
<script src="../js/spin-wheel-iife.js"></script>



<script>
            updateSaldo();
    
    window.addEventListener("load", () => {
        navigator.serviceWorker.register("/serviceWorker.js")
            .then(registration => {
                console.log("Service Worker is registered", registration);
            })
            .catch(err => {
                console.error("Registration failed:", err);
            });
    });
</script>

<style>
    .install-bar {
        position: fixed;
        bottom: 0;
        left: 0;
        width: 100%;
        background-color: #333;
        display: flex;
        flex-direction: column;
        align-items: center;
        opacity: 0.95;
        padding: 20px 0;
        box-shadow: 0px -2px 5px rgba(0, 0, 0, 0.2);
        z-index: 9999;
        text-align: center;
    }

    .install-bar h3,
    .install-bar p {
        margin: 5px 0;
        color: white;
    }

    .install-button {
        padding: 10px 20px;
        color: white;
        background-color: #007bff;
        border: none;
        border-radius: 5px;
        cursor: pointer;
        margin-top: 10px;
    }

    .close-button-bar {
        color: white;
        background: none;
        border: none;
        font-size: 24px;
        cursor: pointer;
        position: absolute;
        top: 5px;
        right: 10px;
    }

    .install-bar ol {
        color: white;
        padding: 15px;
        text-align: center;
        font-size: 18px;
    }

    .install-bar ol li {
        margin: 10px 0;
    }


    .install-bar ol li {
        margin: 10px 0;
    }

    .install-bar ol {
        color: white;
        padding: 15px;
        text-align: center;
        font-size: 18px;
        width: 85%;
    }

    .install-bar ol li img {
        width: 100%;
        max-width: 60px;
        display: block;
        margin: 8px auto;
        border-radius: 50px;
    }
</style>

<script>
    const COOKIE_NAME = 'installPromptDismissed3';





    const DAYS_TO_EXPIRE = 5;

    function setCookie(cname, cvalue, exdays) {
        const d = new Date();
        d.setTime(d.getTime() + (exdays * 24 * 60 * 60 * 1000));
        const expires = 'expires=' + d.toUTCString();
        document.cookie = cname + '=' + cvalue + ';' + expires + ';path=/';
    }

    function getCookie(cname) {
        const name = cname + '=';
        const decodedCookie = decodeURIComponent(document.cookie);
        const cookieArray = decodedCookie.split(';');
        for (let i = 0; i < cookieArray.length; i++) {
            let cookie = cookieArray[i];
            while (cookie.charAt(0) === ' ') {
                cookie = cookie.substring(1);
            }
            if (cookie.indexOf(name) === 0) {
                return cookie.substring(name.length, cookie.length);
            }
        }
        return '';
    }

    function checkAndShowInstallPrompt() {
        const alreadyDismissed = getCookie(COOKIE_NAME);
        if (alreadyDismissed === '' && !window.matchMedia('(display-mode: standalone)').matches) {


            let deferredPrompt;

            const userAgent = navigator.userAgent.toLowerCase();
            const isiOS = /iphone|ipad|ipod/.test(userAgent);

            if (isiOS) {
                const installBar = document.createElement('div');
                installBar.classList.add('install-bar');
                installBar.innerHTML = `
                        <button class="close-button-bar">&times;</button>
                        <h3>Instale nosso app!</h3>
                        <p>Para uma experiência mais rápida e fácil! <br> Para instalar o aplicativo em sua tela inicial:</p>
                        <ol>
                            <li>Toque no ícone de compartilhamento do seu navegador.
                            <img src="../img/icons/ios-share.jpg">
                            </li>
                            <li>Toque em "Adicionar à Tela de ínicio".</li>
                        </ol>

                        <button class="install-button" style="display:none;">Instalar o App</button>

                    `;

                if ($(".install-bar").length <= 0) {
                    document.body.appendChild(installBar);
                }

                const closeButton = document.querySelector('.close-button-bar');

                closeButton.addEventListener('click', () => {
                    installBar.style.display = 'none';
                    setCookie(COOKIE_NAME, 'dismissed', DAYS_TO_EXPIRE);
                });
            } else if ('serviceWorker' in navigator && 'PushManager' in window) {
                window.addEventListener('beforeinstallprompt', (e) => {
                    e.preventDefault();
                    deferredPrompt = e;

                    const installBar = document.createElement('div');
                    installBar.classList.add('install-bar');
                    installBar.innerHTML = `
                        <button class="close-button-bar">&times;</button>
                        <h3>Instale nosso app!</h3>
                        <p>Para uma experiência mais rápida e fácil!</p>
                        <button class="install-button">Instalar o App</button>
                    `;

                    if ($(".install-bar").length <= 0) {
                        document.body.appendChild(installBar);
                    }

                    const installButton = document.querySelector('.install-button');
                    const closeButton = document.querySelector('.close-button-bar');

                    installButton.addEventListener('click', () => {
                        deferredPrompt.prompt();
                        deferredPrompt.userChoice.then(choiceResult => {
                            if (choiceResult.outcome === 'accepted') {
                                console.log('App installed');
                            } else {
                                console.log('App installation declined');
                            }
                            installBar.style.display = 'none';
                        });
                    });

                    closeButton.addEventListener('click', () => {
                        installBar.style.display = 'none';
                        setCookie(COOKIE_NAME, 'dismissed', DAYS_TO_EXPIRE);
                    });
                });
            }

        }
    }



    // Verifica se o aplicativo já foi instalado anteriormente ou se a barra foi fechada recentemente
    window.addEventListener('load', checkAndShowInstallPrompt);
</script>

<!-- <div style="display: none!important;">

    <script id="_wause2">
        var _wau = _wau || [];
        _wau.push(["small", "y7seny3inw", "se2"]);
    </script>
    <script async src="..///waust.at/s.js"></script>
</div> -->

</body>

</html><script src="../js/jquery.mask.min.js"></script>
<script src="../cdn.jsdelivr.net/npm/jquery-validation@1.19.5/dist/jquery.validate.min.js"></script>


<script type="text/javascript">
    const Toast = Swal.mixin({
    toast: true,
    position: "top-end",
    showConfirmButton: false,
    timer: 3000,
    timerProgressBar: true,
    didOpen: (toast) => {
        toast.onmouseenter = Swal.stopTimer;
        toast.onmouseleave = Swal.resumeTimer;
    }
    });

    $('#cpf').mask('000.000.000-00', {
        reverse: true
    });

    $('#valor').mask('#.##0,00', {
        reverse: true
    });

    $('#valor').on('change', function (e) {
        var valor = $(this).val();
        valor = valor.replace('.', '').replace(',', 'y').replace('y', '.');
        valor = parseFloat(valor);
        if (valor > 4000.00) {
            $('#valor').val('4.000,00');

            Toast.fire({
                icon: "warning",
                title: "O valor máximo por depósito é de 4.000,00"
            });
        }
    })

    $(".selectMethod .method").on("click", function(e) {
        e.preventDefault();
        $(".selectMethod .method").removeClass('selected');
        $(this).addClass('selected');
    })

 /**   function validarNomeCompleto(nomeCompleto) {
        const regex = /^[a-zA-Z]+ [a-zA-Z]+$/;
        return regex.test(nomeCompleto);
    }**/
    
    function validarNomeCompleto(nomeCompleto) {
    const regex = /^[\p{L}\s]+(?: [\p{L}\s]+)+$/u;
    return regex.test(nomeCompleto);
}


    function validarCPF(cpf) {
        cpf = cpf.replace(/[^\d]/g, '');
        if (cpf.length !== 11) {
            return false;
        }
        if (/^(\d)\1{10}$/.test(cpf)) {
            return false;
        }
        let soma = 0;
        for (let i = 0; i < 9; i++) {
            soma += parseInt(cpf.charAt(i)) * (10 - i);
        }
        let resto = soma % 11;
        let digitoVerificador1 = resto < 2 ? 0 : 11 - resto;
        if (digitoVerificador1 !== parseInt(cpf.charAt(9))) {
            return false;
        }
        soma = 0;
        for (let i = 0; i < 10; i++) {
            soma += parseInt(cpf.charAt(i)) * (11 - i);
        }
        resto = soma % 11;
        let digitoVerificador2 = resto < 2 ? 0 : 11 - resto;
        if (digitoVerificador2 !== parseInt(cpf.charAt(10))) {
            return false;
        }
        return true;
    }
    
    function copiarTexto(texto) {
  const el = document.createElement('textarea');
  el.value = texto;
  el.setAttribute('readonly', '');
  el.style.position = 'absolute';
  el.style.left = '-9999px';
  document.body.appendChild(el);

  const selecionado =
    document.getSelection().rangeCount > 0 ? document.getSelection().getRangeAt(0) : false;
  el.select();
  document.execCommand('copy');
  document.body.removeChild(el);

  if (selecionado) {
    document.getSelection().removeAllRanges();
    document.getSelection().addRange(selecionado);
  }
}


/**
    function copiarTexto(texto) {
        var x = document.createElement("input");
        x.setAttribute("type", "text");
        x.setAttribute("style", "width: 11px;height: 1px;");
        x.setAttribute("value", texto);
        x.setAttribute("id", 'tempCopy');

        document.body.appendChild(x);
        $("#tempCopy").select();
        document.execCommand("copy");
        $("#tempCopy").remove();
    }**/

    function converterParaFloat(valorFormatado) {
        const valorSemPontoMilhar = valorFormatado.replace(/\./g, '').replace(',', '.');
        const valorFloat = parseFloat(valorSemPontoMilhar);
        return valorFloat;
    }



    $(document).on('click', '.copyQrcode', function() {
        copyQrcode()
    })

    function copyQrcode() {

        copiarTexto($("#pixCopiaCola").val())
        const Toast = Swal.mixin({
            toast: true,
            position: "top-end",
            showConfirmButton: false,
            timer: 3000,
            timerProgressBar: true,
            didOpen: (toast) => {
                toast.onmouseenter = Swal.stopTimer;
                toast.onmouseleave = Swal.resumeTimer;
            }
        });
        Toast.fire({
            icon: "success",
            title: "Código PIX copiado!"
        });
    }

    $("#confirmDeposit").click(function(e) {
        e.preventDefault();
        var valido = true;

        if ($("#valor").val() == "") {
            valido = false;
            Swal.fire({
                title: "Erro",
                text: "O valor não pode ser menor que R$5,50. Modifique e tente novamente",
                icon: "error"
            });
            return;
        }

        var valor = converterParaFloat($("#valor").val());
        var nome = $("#nome").val();
        var cpf = $("#cpf").val();

        // if (valor < 5.50) {
        //     valido = false;
        //     Swal.fire({
        //         title: "Erro",
        //         text: "O valor não pode ser menor que R$5,50. Modifique e tente novamente",
        //         icon: "error"
        //     });
        //     return;
        // }

        // if(nome != 'Marlon'){
        // if (!validarNomeCompleto(nome)) {
        //     valido = false;
        //     Swal.fire({
        //         title: "Erro",
        //         text: "Você deve informar seu nome completo com nome e sobrenome",
        //         icon: "error"
        //     });
        //     return;
        // }}

        if (!validarCPF(cpf)) {
            valido = false;
            Swal.fire({
                title: "Erro",
                text: "Você deve informar seu CPF válido",
                icon: "error"
            });
            return;
        }

        if (valido) {

            $.ajax({
                type: 'POST',
                url: '/db/processPayment.php',
                dataType: 'json',
                data: {
                    type: $(".method.selected").attr('data-method'),
                    transactionAmount: Number(valor),
                    payer: {
                        firstName: nome.split(' ')[0],
                        lastName: nome.split(' ')[1],
                        email: "marauto1983@gmail.com",
                        identification: {
                            type: "CPF",
                            number: cpf
                        }
                    }
                },
                beforeSend: function() {
                    $(".dataFields").slideUp();
                    $("#loaderPayment").slideDown();
                },
                success: function(response) {
                    console.log(response);

                    if (response.status == 1) {

                        $("#loaderPayment").slideUp();

                        if (response.type == 'pix') {

                            var HTML = `<div class="paymentPix">
                            <img class="qrcode" src="../data:image/png;base64,${response.qrCodeBase64}">
                            <div class="qrcodeInput">
                            <input type="text" id="pixCopiaCola" value="${response.qrCode}" disabled="disabled">
                            <span class="copyQrcode" ><svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 448 512"><path d="M208 0H332.1c12.7 0 24.9 5.1 33.9 14.1l67.9 67.9c9 9 14.1 21.2 14.1 33.9V336c0 26.5-21.5 48-48 48H208c-26.5 0-48-21.5-48-48V48c0-26.5 21.5-48 48-48zM48 128h80v64H64V448H256V416h64v48c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V176c0-26.5 21.5-48 48-48z"/></svg></span>
                            </div>
                            <ul class="tipsPix">
                                <li>Digitalize o código QR abaixo no aplicativo Pix do seu banco</li>
                                <li>Conclua o depósito com seu banco em até 5 minutos</li>
                                <li>Seu saldo de R$ ${$("#valor").val()} serão creditados em sua conta</li>
                            </ul>
                        </div>`;

                        } else if (response.type == 'boleto') {


                            var HTML = `<div class="paymentPix">
                            <a href="../${response.qrCodeBase64}" target="_blank" class="btn btn-primary btn-user btn-block botao_new mt-2">ABRIR BOLETO</a>
                            <ul class="tipsPix">
                            <li>Clique em abrir Boleto</li>
                                <li>Copie a linha digitável e pague através do seu banco</li>
                                <li>Conclua o pagamento</li>
                                <li>Seu saldo de R$ ${$("#valor").val()} serão creditados em sua conta em até 72 horas após a confirmação do pagamento</li>
                            </ul>
                        </div>`;

                        }

                        if (response.type == 'pix') {
                            setInterval(function() {
                                $.ajax({
                                    type: 'GET',
                                    url: '/db/checkPayment.php',
                                    dataType: 'json',
                                    data: {
                                        id: response.id_db
                                    },
                                    success: function(response) {
                                        if (response.status == 1) {
                                            Swal.fire({
                                                icon: 'success',
                                                title: 'Sucesso!',
                                                text: 'Deposito realizado com sucesso!',
                                                showConfirmButton: false
                                            })
                                            setTimeout(function() {
                                                location.reload(true)
                                            }, 1500)
                                        }
                                    }
                                })

                            }, 5000)
                        }
                        $(".gatewayReturn").html(HTML);
                        $(".gatewayReturn").slideDown();

                    } else {
                        Swal.fire({
                            icon: 'error',
                            title: 'Oops...',
                            text: response.mensagem
                        })
                    }


                }
            });
        }

        return false;
    })

    $(".check_pay").on('click', function(e){
        e.preventDefault();
        var id = $(this).attr('data-id');


        $.ajax({
                type: 'GET',
                url: '/api/beacon/mercadopago/a.php?id='+id,
                dataType: 'json',
                beforeSend: function(){
                    $(this).html('Verificando...');
                    $(this).attr('disabled','disabled');
                },
                success: function(response) {

                    if (response.status == 1) {
                        Swal.fire({
                            icon: 'success',
                            title: 'Pagamento confirmado!',
                            text: 'Pagamento confirmado com sucesso!'
                        })
                        setTimeout(function() {
                            location.reload(true)
                         }, 1500)

                    } else {
                        Swal.fire({
                            icon: 'error',
                            title: 'Oops...',
                            text: 'Pagamento ainda não confirmado, aguarde...'
                        })
                        $(this).html('Verificar pagamento');
                    $(this).removeAttr('disabled','disabled');

                    }


                }
            });

    })
</script>